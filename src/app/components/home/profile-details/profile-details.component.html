<div class="modal" [ngStyle]="{'display':'block'}">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Profile Details</h5>
          <i class="bi bi-x" (click)="onCloseProfileDetailsModal()"></i>
        </div>
        <div class="modal-body">

          <h5 class="font-weight-bold mb-3 text-center text-lg-start"> 
            <div class="image">
              <input 
              class="file-upload-input"
              [hidden]="true" 
              type="file" 
              (change)="onChangeProfilePicture(fileInput.files)" 
              accept="image/png, image/jpeg"
              #fileInput>
              <button 
                type="button" 
                (click)="fileInput.click()" 
                class="btn file-upload-btn">
                <img [src]="profilePicture"
                  onerror="src='https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp'"
                  alt="avatar" 
                  class="rounded-circle img-fluid">
              </button>
              <button 
                type="button" 
                class="btn btn-primary file-upload-btn btn-size"
                (click)="onSaveProfilePicture()">
                Save Profile Picture
              </button> 
            </div>
          </h5>

          <div class="content">
            <form [formGroup]="profileDetailsForm">
              <div class="form-outline mb-4">
                <input 
                  type="text" 
                  class="form-control" 
                  placeholder="Username"
                  formControlName="username"
                  [ngClass]="{'is-invalid': username.errors && (username.touched || username.dirty), 'is-valid': username.valid}"/>
                  <div class="invalid-feedback" >
                    <strong *ngIf="username.errors?.['required']">Username is required</strong>
                    <strong *ngIf="username?.errors?.['minlength']">
                      Username length must be greater than {{username.errors?.['minlength']?.['requiredLength']}} characters
                    </strong>
                  </div>
              </div>
    
              <div class="form-outline mb-4">
                <input 
                  type="text" 
                  class="form-control"
                  formControlName="firstName" 
                  placeholder="First Name"
                  [ngClass]="{'is-invalid': firstName.errors && (firstName.touched || firstName.dirty), 'is-valid': firstName.valid}"/>
                <div class="invalid-feedback" >
                  <strong *ngIf="firstName.errors?.['required']">First name is required</strong>
                </div>
              </div>
    
    
              <div class="form-outline mb-4">
                <input 
                  type="text" 
                  class="form-control"
                  formControlName="lastName" 
                  placeholder="Last Name"
                  [ngClass]="{'is-invalid': lastName.errors && (lastName.touched || lastName.dirty), 'is-valid': lastName.valid}"/>
                <div class="invalid-feedback" >
                  <strong *ngIf="lastName.errors?.['required']">Last name is required</strong>
                </div>
              </div>
    
              <div class="form-outline mb-4">
                <input 
                type="email" 
                class="form-control"
                formControlName="email"
                placeholder="Email"
                [ngClass]="{'is-invalid': email.errors && (email.touched || email.dirty), 'is-valid': email.valid}" />
                <div class="invalid-feedback" >
                  <strong *ngIf="email.errors?.['required']">Email is required</strong>
                  <strong *ngIf="email.errors?.['email']">Invalid Email</strong>
                </div>
              </div>
    
    
              <div class="row mb-4">
                <div class="d-flex justify-content-center">
                  <button class="btn btn-primary" [disabled]="profileDetailsForm.invalid" (click)="onEditProfileDetails(profileDetailsForm.value)">Save changes</button>
                </div>
              </div>
    
            </form>
        </div>
      </div>
    </div>
  </div>