<div class="container-fluid p-5 my-5 border">
    <ul class="nav nav-pills nav-justified mb-3">
      <li class="nav-item">
        <a class="btn btn-primary" (click)="onLoginButton()">Login</a>
      </li>
      <li class="nav-item">
        <a class="btn btn-primary" (click)="onRegistration()">Registration</a>
      </li>
    </ul>

    <div class="tab-content">
      <div class="content" *ngIf="isLoginActive">
        <form class="form-horizontal" [formGroup]="loginForm">
          <div class="form-outline mb-4">
            <span class="input-icon"><i class="fa fa-envelope"></i></span>
            <input 
              type="text" 
              class="form-control"
              placeholder="Email Address / Username"
              formControlName="userCredentials" />
          </div>

          <div class="form-outline mb-4">
            <span class="input-icon"><i class="fa fa-lock"></i></span>
            <input 
              class="form-control" 
              type="password" 
              placeholder="Password"
              formControlName="password"
              />
          </div>

          <div class="row mb-4">
            <div class=" d-flex justify-content-center">
              <a routerLink="/forgot-password">Forgot password?</a>
            </div>
          </div>

          <div class="row mb-4">
            <div class="d-flex justify-content-center">
              <button class="btn btn-primary" (click)="onSignIn(loginForm.value)">Sign in</button>
            </div>
          </div>
         
        </form>
      </div>

      <div class="content" *ngIf="!isLoginActive">
        <form [formGroup]="registrationForm">
          <div class="form-outline mb-4">
            <input 
              type="text" 
              class="form-control" 
              placeholder="Username"
              formControlName="username"
              [ngClass]="{'is-invalid': username.errors && (username.touched || username.dirty), 'is-valid': username.valid}"/>
              <div class="invalid-feedback" >
                <strong *ngIf="username.errors?.['required']">Username is required</strong>
                <strong *ngIf="username?.errors?.['minlength']">
                  Username length must be greater than {{username.errors?.['minlength']?.['requiredLength']}} characters
                </strong>
              </div>
          </div>

          <div class="form-outline mb-4">
            <input 
              type="text" 
              class="form-control"
              formControlName="firstName" 
              placeholder="First Name"
              [ngClass]="{'is-invalid': firstName.errors && (firstName.touched || firstName.dirty), 'is-valid': firstName.valid}"/>
            <div class="invalid-feedback" >
              <strong *ngIf="firstName.errors?.['required']">First name is required</strong>
            </div>
          </div>


          <div class="form-outline mb-4">
            <input 
              type="text" 
              class="form-control"
              formControlName="lastName" 
              placeholder="Last Name"
              [ngClass]="{'is-invalid': lastName.errors && (lastName.touched || lastName.dirty), 'is-valid': lastName.valid}"/>
            <div class="invalid-feedback" >
              <strong *ngIf="lastName.errors?.['required']">Last name is required</strong>
            </div>
          </div>

          <div class="form-outline mb-4">
            <input 
            type="email" 
            class="form-control"
            formControlName="email"
            placeholder="Email"
            [ngClass]="{'is-invalid': email.errors && (email.touched || email.dirty), 'is-valid': email.valid}" />
            <div class="invalid-feedback" >
              <strong *ngIf="email.errors?.['required']">Email is required</strong>
              <strong *ngIf="email.errors?.['email']">Invalid Email</strong>
            </div>
          </div>

          <div class="form-outline mb-4">
            <input 
            type="password" 
            class="form-control" 
            formControlName="password"
            placeholder="Password"
            [ngClass]="{'is-invalid': passwordRegistration.errors && (passwordRegistration.touched || passwordRegistration.dirty), 'is-valid': passwordRegistration.valid}"/>
            <div class="invalid-feedback" >
              <strong *ngIf="passwordRegistration.errors?.['required']">Password is required</strong>
              <strong *ngIf="passwordRegistration?.errors?.['minlength']">
                Password length must be greater than {{passwordRegistration.errors?.['minlength']?.['requiredLength']}} characters
              </strong>
              <strong *ngIf="passwordRegistration.errors?.['pattern']">Password most contain atleast a number, a lower and upper-case character and a special character</strong>
            </div>
          </div>
          
          <div class="form-outline mb-4">
            <input 
              type="password" 
              class="form-control"
              formControlName="repeatPassword"
              placeholder="Repeat Password"
              [ngClass]="{'is-invalid': repeatPassword.errors && (repeatPassword.touched || repeatPassword.dirty), 'is-valid': repeatPassword.valid}"/>
            <div class="invalid-feedback" >
              <strong *ngIf="repeatPassword.errors?.['required']">Repeat password is required</strong>
              <strong *ngIf="repeatPassword?.errors?.['minlength']">
                Repeat password length must be greater than {{repeatPassword.errors?.['minlength']?.['requiredLength']}} characters
              </strong>
              <strong *ngIf="repeatPassword.errors?.['pattern']">Password most contain atleast a number, a lower and upper-case character and a special character</strong>
            </div>
          </div>

          <div class="row mb-4">
            <div class="d-flex justify-content-center">
              <button class="btn btn-primary" [disabled]="registrationForm.invalid" (click)="onRegister(registrationForm.value)">Register</button>
            </div>
          </div>

        </form>
      </div>
    </div>

</div>
